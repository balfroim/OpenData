{% extends 'base.html' %}
{% load static quiz %}
{% block title %}Accueil{% endblock %}
{% block head %}
  <script defer src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
  <style>
    .carousel-cell {
      width: 384px;
      height: 256px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      margin: 0 10px;
      padding: 10px;
      border-radius: 32px;
      text-decoration: none;
      color: #111111;
      background-color: ghostwhite;
    }

    .carousel-cell-img {
      width: 128px;
      height: 128px;
      display: block;
      margin-left: auto;
      margin-right: auto;
      padding: 5px;
      border: 2px solid;
      border-radius: 128px;
    }

    .carousel-cell-title {
      text-align: center;
      font-weight: bold;
    }
  </style>
{% endblock %}
{% block main %}
  <h1>Accueil</h1>
  <h2>Des données (vraiment) ouvertes !</h2>
  <p>
    La ville de Namur met à disposition de toutes et tous une série
    d'informations d'intérêt général. Ces informations sont soit des
    statistiques, consultables en ligne, soit des lots de données qui
    peuvent être utilisées directement dans la création d'application.
  </p>
  <p>
    Quel que soit votre secteur d'activité, notre nouveau jeu de données va
    vous intéresser !
  </p>
  <h2>Données à l'honneur</h2>
  {# TODO: Peut être faire un tag data_carroussel ?? #}
  <div class="main-carousel card" data-flickity='{ "lazyLoad": 1, "autoPlay": 5000, "wrapAround": true }'>
    {% for dataset in featured_datasets %}
    <a class="carousel-cell" href="https://data.namur.be/explore/dataset/{{ dataset.id }}" target="_blank">
      <img src="{% if dataset.theme.image  %}{{ dataset.theme.image.url }}{% endif %}"
        alt="Logo {{ dataset.theme.name }}" class="carousel-cell-img" />
      <span class="carousel-cell-title">
        {% for title_line in dataset.multiline_title %}
        {{ title_line }}<br>
        {% endfor %}
      </span>
    </a>
    {% endfor %}
  </div>
  <h2>Quiz du jour</h2>
  {% show_quiz today_quiz %}
{% endblock %}